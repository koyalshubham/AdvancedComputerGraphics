#version 410

layout(quads, equal_spacing) in;
// Per-quad input variables from the vertex shader.
in Quad
{
    float size;
    vec4 color;
} inQuad[];
out vec4 QuadColor;
void main()
{
    QuadColor = inQuad[0].color;
    // Start with the point-position passed down from the vertex shader.
    gl_Position = gl_in[0].gl_Position;
    // gl_TessCoord ranges from [0, 1] across the entire quad.
    gl_Position.xy += (gl_TessCoord.xy * 2.0 - 1.0) * inQuad[0].size;
}
